language: haskell

sudo: required

install:
  - curl -sSL https://get.haskellstack.org/ | sh
  - stack setup

script:
  - stack build
  - cabal configure --enable-tests --enable-library-coverage
  - cabal build
  - cabal test

after_script:
  - cabal install codecov-haskell
  - codecov-haskell hakocalc-test